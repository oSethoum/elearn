var C=Object.defineProperty;var u=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var p=(o,e,r)=>e in o?C(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,n=(o,e)=>{for(var r in e||(e={}))P.call(e,r)&&p(o,r,e[r]);if(u)for(var r of u(e))v.call(e,r)&&p(o,r,e[r]);return o};import{a8 as F,t as I,r as h,v as l,w as L,j as t,aD as T,d as s,F as j,k,a5 as A,Y as M,m as z,a6 as g,h as b,x as D,ay as f,_ as O,b8 as q,E,z as H}from"./vendor.0be45842.js";import{H as N}from"./Header.cb0b718c.js";import{C as V,F as G}from"./BrandLogos.fa73e98b.js";import{u as J,F as R}from"./index.388e8e0a.js";import{L as U}from"./Logo.99ad6cec.js";import{B as Y}from"./BackButton.4e6bd3ff.js";function ee(){const o=F(),{t:e}=I(),{user:r,setUser:w}=J(),[x,a]=h.exports.useState(!1),[m,d]=h.exports.useState({title:"",color:"",content:""}),S=l.object({email:l.string().email({message:e("invalidEmail")}).min(12,{message:e("minimumLength")+" 12"}),password:l.string().min(5,{message:e("minimumLength")+" 5"}),rememberMe:l.boolean()}),i=L({schema:H(S),initialValues:{email:"",password:"",rememberMe:!1}});return r?t(T,{to:"/"}):s(j,{children:[t(N,{leftSide:t(Y,{}),rightSide:t(V,{}),withBorder:!0,children:t(k,{align:"center",size:"xl",weight:"bolder",children:e("login")})}),t(A,{size:"xs",my:80,children:s(M,{p:20,shadow:"xs",withBorder:o.colorScheme==="dark",children:[t(z,{children:t(U,{width:350})}),t(g,{h:10}),s("form",{onSubmit:i.onSubmit(y=>{fetch("/api/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(y)}).then(c=>{c.status==200?c.json().then(B=>{w(B),a(!1)}):c.status==401?(d({title:"accountDisabled",content:"yourAccountIsDisabled",color:"blue"}),a(!0)):(d({title:"invalidCredentials",content:"emailOrPasswordIncorrect",color:"red"}),a(!0))})}),noValidate:!0,children:[s(b,{direction:"column",grow:!0,children:[t(D,n({label:e("email"),placeholder:e("email"),required:!0},i.getInputProps("email"))),t(R,n({label:e("password"),placeholder:e("password"),linkLabel:e("forgotPassword"),component:f,componentProps:{to:"/reset"},required:!0},i.getInputProps("password")))]}),t(O,n({mt:15,label:e("rememberMe")},i.getInputProps("rememberMe"))),t(g,{h:30}),x&&t(q,{color:m.color,mb:20,onClose:()=>a(!1),withCloseButton:!0,title:e(m.title),variant:"outline",children:e(m.content)}),s(b,{position:"apart",grow:!0,children:[t("div",{children:t(f,{style:{padding:5},to:"/register",children:e("register")})}),t(E,{type:"submit",children:e("login")})]})]})]})}),t(G,{withBorder:!0})]})}export{ee as Login,ee as default};
