var w=Object.defineProperty,v=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var p=(e,t,s)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,a=(e,t)=>{for(var s in t||(t={}))I.call(t,s)&&p(e,s,t[s]);if(u)for(var s of u(t))S.call(t,s)&&p(e,s,t[s]);return e},c=(e,t)=>v(e,y(t));import{t as T,v as r,a3 as j,w as z,a4 as C,b9 as L,j as o,a5 as E,d as l,Y as N,k as P,a6 as R,h,x as k,D as q,ba as B,E as m,z as Q}from"./vendor.0be45842.js";import{R as V}from"./RichTextEditor.64790426.js";import{w as D,n as F}from"./schema.bcb88cc1.js";const $=()=>{const{t:e}=T(),t=r.object({title:r.string().nonempty(e("notEmpty")),description:r.string(),content:r.string().min(20)}),s=j(),[b,{data:g,error:d}]=D({}),{onSubmit:x,getInputProps:i}=z({schema:Q(t),initialValues:{title:"",description:"",published:!1,content:""}}),n=C();return d&&console.log(d),g&&(L({color:"green",message:e("success")}),s(`/courses/${n.courseId}?tab=lessons`)),o(E,{my:20,size:"xl",children:l(N,{withBorder:!0,p:20,children:[o(P,{weight:"bold",sx:{fontSize:22},children:e("addLesson")}),o(R,{h:15}),o("form",{noValidate:!0,onSubmit:x(f=>{b({variables:{data:c(a({},f),{course:{connect:{id:parseInt(n==null?void 0:n.courseId)}}})},refetchQueries:[F.Query.Course]})}),children:l(h,{grow:!0,spacing:"lg",direction:"column",children:[o(k,c(a({label:e("title"),placeholder:e("title")},i("title")),{required:!0})),o(q,a({label:e("description"),placeholder:e("description")},i("description"))),o(B,a({label:e("published")},i("published"))),o(V,a({required:!0,label:e("content")},i("content"))),l(h,{position:"right",children:[o(m,{variant:"outline",onClick:()=>{s(-1)},sx:{width:100},color:"gray",children:e("cancel")}),o(m,{type:"submit",sx:{width:100},children:e("add")})]})]})})]})})};export{$ as NewLesson,$ as default};
