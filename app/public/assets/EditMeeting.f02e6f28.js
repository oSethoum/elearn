var M=Object.defineProperty,j=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var f=(n,e,t)=>e in n?M(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,a=(n,e)=>{for(var t in e||(e={}))E.call(e,t)&&f(n,t,e[t]);if(b)for(var t of b(e))S.call(e,t)&&f(n,t,e[t]);return n},l=(n,e)=>j(n,C(e));import"./ar-dz.71d281d7.js";import{D as N,T as k}from"./TimeRangeInput.4978f900.js";import{t as V,a4 as v,a3 as B,K as A,v as d,w as F,r as G,j as r,a5 as K,d as c,Y as Q,k as R,a6 as w,h as x,x as D,D as U,E as P,z as Y}from"./vendor.0be45842.js";import{u as $}from"./index.388e8e0a.js";import{k as H,l as J}from"./schema.bcb88cc1.js";const ee=()=>{const[n]=H(),{t:e}=V(),t=v(),{data:i,loading:q}=J({variables:{where:{id:parseInt(t==null?void 0:t.meetingId)}}}),u=B(),{showNotification:y}=A(),z=d.object({title:d.string().nonempty(e("notEmpty")),description:d.string(),date:d.date(),startTime:d.date(),duration:d.date(),link:d.string().url(e("invalid"))}),o=F({schema:Y(z),initialValues:{title:"",description:"",date:new Date,startTime:new Date,duration:new Date,link:""}});G.exports.useEffect(()=>{var s,m,g,h,I,T;i&&o.setValues({title:(s=i==null?void 0:i.meeting)==null?void 0:s.title,description:(m=i==null?void 0:i.meeting)==null?void 0:m.description,date:new Date((g=i==null?void 0:i.meeting)==null?void 0:g.date),startTime:new Date((h=i==null?void 0:i.meeting)==null?void 0:h.startTime),duration:new Date((I=i==null?void 0:i.meeting)==null?void 0:I.duration),link:(T=i==null?void 0:i.meeting)==null?void 0:T.link})},[q]);const{language:p}=$();return r(K,{size:"xl",children:c(Q,{withBorder:!0,p:20,my:20,children:[r(R,{weight:"bold",sx:{fontSize:22},children:e("editMeeting")}),r(w,{h:15}),c("form",{onSubmit:o.onSubmit(s=>{console.log(s),n({variables:{where:{id:parseInt(t==null?void 0:t.meetingId)},data:{title:{set:s.title},description:{set:s.description},date:{set:s.date},startTime:{set:s.startTime},duration:{set:s.duration},link:{set:s.link},course:{connect:{id:parseInt(t==null?void 0:t.courseId)}}}},onCompleted(){y({message:e("success"),color:"green"}),u(`/courses/${t.courseId}?tab=meetings`)}})}),noValidate:!0,children:[c(x,{grow:!0,direction:"column",children:[r(D,l(a({label:e("title"),placeholder:e("title")},o.getInputProps("title")),{required:!0})),r(U,l(a({label:e("description"),placeholder:e("description")},o.getInputProps("description")),{required:!0})),r(N,l(a({locale:p==="ar"?"ar-dz":p,label:e("date"),placeholder:e("date")},o.getInputProps("date")),{required:!0})),r(k,l(a({label:e("startTime"),placeholder:e("startTime")},o.getInputProps("startTime")),{required:!0})),r(k,l(a({label:e("duration"),placeholder:e("duration")},o.getInputProps("duration")),{required:!0})),r(D,l(a({label:e("link"),placeholder:e("link")},o.getInputProps("link")),{required:!0}))]}),r(w,{h:20}),c(x,{position:"right",children:[r(P,{variant:"default",onClick:()=>{u(-1)},children:e("cancel")}),r(P,{type:"submit",color:"green",children:e("apply")})]})]})]})})};export{ee as EditMeeting,ee as default};
