var E=Object.defineProperty;var m=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var g=(t,e,n)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))P.call(e,n)&&g(t,n,e[n]);if(m)for(var n of m(e))v.call(e,n)&&g(t,n,e[n]);return t};import{s as S,v as j}from"./schema.bcb88cc1.js";import{a4 as z,K as A,a3 as N,t as T,v as l,w as k,r as C,j as i,a5 as R,d as a,Y as q,k as B,a6 as b,h as f,x,ba as V,E as I,z as F}from"./vendor.0be45842.js";import{R as G}from"./RichTextEditor.64790426.js";const U=()=>{const t=z(),{data:e}=S({variables:{where:{id:parseInt(t==null?void 0:t.assignmentId)}}}),[n]=j(),{showNotification:y}=A(),p=N(),{t:s}=T(),w=l.object({title:l.string().nonempty(s("notEmpty")),description:l.string().nonempty(s("notEmpty")),published:l.boolean(),content:l.string().nonempty(s("notEmpty"))}),r=k({schema:F(w),initialValues:{title:"",published:!1,description:"",content:""}});return C.exports.useEffect(()=>{var o,u,d,h;r.setValues({title:(o=e==null?void 0:e.assignment)==null?void 0:o.title,published:(u=e==null?void 0:e.assignment)==null?void 0:u.published,description:(d=e==null?void 0:e.assignment)==null?void 0:d.description,content:(h=e==null?void 0:e.assignment)==null?void 0:h.content})},[e]),i(R,{size:"xl",my:20,sx:{minHeight:"60vh"},children:a(q,{p:20,withBorder:!0,children:[i(B,{weight:"bold",sx:{fontSize:22},children:s("editAssignment")}),i(b,{h:15}),a("form",{onSubmit:r.onSubmit(o=>{console.log(o),n({variables:{where:{id:parseInt(t==null?void 0:t.assignmentId)},data:{content:{set:o.content},title:{set:o.title},published:{set:o.published},description:{set:o.description}}},onCompleted(){y({message:s("success"),color:"green"}),p("/courses/"+(t==null?void 0:t.courseId)+"?tab=assignments")}})}),children:[a(f,{grow:!0,direction:"column",children:[i(x,c({label:s("title"),placeholder:s("title"),required:!0},r.getInputProps("title"))),i(x,c({label:s("description"),placeholder:s("description")},r.getInputProps("description"))),i(V,c({label:s("published")},r.getInputProps("published",{type:"checkbox"}))),i(G,c({required:!0,label:s("content")},r.getInputProps("content")))]}),i(b,{h:20}),a(f,{position:"right",children:[i(I,{variant:"default",onClick:()=>{p(`/courses/${t==null?void 0:t.courseId}?tab=assignments`)},children:s("cancel")}),i(I,{color:"green",type:"submit",children:s("apply")})]})]})]})})};export{U as NewAssignment,U as default};
